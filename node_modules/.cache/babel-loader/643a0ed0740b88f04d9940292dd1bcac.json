{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import Billtem from\"./Billtem\";import ReactPaginate from'react-paginate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BillList=function BillList(props){var bills=useSelector(function(state){return state.bills.data;});var customers=useSelector(function(state){return state.customers.data;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pageNumber=_useState6[0],setPageNumber=_useState6[1];var billsPerPage=10;var pagesVisited=pageNumber*billsPerPage;useEffect(function(){setData(_toConsumableArray(bills));},[bills]);var handleSearchChange=function handleSearchChange(e){setSearch(e.target.value);};var filteredBills=function filteredBills(){var arr=[];var customerDetails=customers.filter(function(ele){return ele.email.toLowerCase().includes(search.toLowerCase())||ele.name.toLowerCase().includes(search.toLowerCase());});customerDetails.forEach(function(customer){var result=bills.filter(function(bill){return customer._id===bill.customer;});arr=arr.concat(result);});return arr;};var pageCount=filteredBills().length>0?Math.ceil(filteredBills().length/billsPerPage):Math.ceil(data.length/billsPerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List of Bills\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search by customer email\",value:search,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"p\",{}),search?/*#__PURE__*/_jsx(\"div\",{children:filteredBills().length>0?filteredBills().slice(pagesVisited,pagesVisited+billsPerPage).map(function(bill){return/*#__PURE__*/_jsx(Billtem,{bill:bill},bill._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Bills Added\"})}):/*#__PURE__*/_jsx(\"div\",{children:data.length>0?data.slice(pagesVisited,pagesVisited+billsPerPage).map(function(bill){return/*#__PURE__*/_jsx(Billtem,{bill:bill},bill._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Bills Added\"})}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"Previous\",pageCount:pageCount,nextLabel:\"Next\",onPageChange:changePage})]});};export default BillList;","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/Components/Bills/BillList.js"],"names":["React","useState","useEffect","useSelector","Billtem","ReactPaginate","BillList","props","bills","state","data","customers","search","setSearch","setData","pageNumber","setPageNumber","billsPerPage","pagesVisited","handleSearchChange","e","target","value","filteredBills","arr","customerDetails","filter","ele","email","toLowerCase","includes","name","forEach","customer","result","bill","_id","concat","pageCount","length","Math","ceil","changePage","selected","slice","map"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Billtem from \"./Billtem\";\nimport ReactPaginate from 'react-paginate'\n\nconst BillList = (props) => {\n\n    const bills = useSelector(state=>state.bills.data)\n    const customers = useSelector(state=>state.customers.data)\n\n    const [search, setSearch] = useState('')\n    const [data, setData] = useState([])\n    const [pageNumber, setPageNumber] = useState(0)\n    const billsPerPage = 10\n    const pagesVisited = pageNumber * billsPerPage\n\n    useEffect(() => {\n        setData([...bills])\n    },[bills])\n\n    const handleSearchChange = (e) => {\n        setSearch(e.target.value)\n    }\n\n    const filteredBills = () => {\n        let arr = []\n        const customerDetails = customers.filter(ele=>{\n            return ele.email.toLowerCase().includes(search.toLowerCase()) || ele.name.toLowerCase().includes(search.toLowerCase())\n        })\n        customerDetails.forEach(customer=>{\n            const result = bills.filter(bill=>customer._id===bill.customer)\n            arr =  arr.concat(result)\n        })\n        return arr\n       }\n\n    const pageCount = filteredBills().length > 0 ? Math.ceil(filteredBills().length / billsPerPage) : Math.ceil(data.length / billsPerPage)\n\n    const changePage = ({selected}) => {\n        setPageNumber(selected)\n    }\n\n    return (\n        <div>\n            <h3>List of Bills</h3>\n            <input type=\"search\" placeholder=\"Search by customer email\" value={search} onChange={handleSearchChange}/>\n            <p></p>\n            <p></p>\n            {search?\n            <div>\n                {filteredBills().length> 0 ? filteredBills().slice(pagesVisited, pagesVisited+billsPerPage).map(bill=>{\n                return <Billtem key={bill._id} bill={bill}/>\n            }): <h3>No Bills Added</h3>}\n            </div>:\n            <div>\n                {data.length>0 ? data.slice(pagesVisited, pagesVisited+billsPerPage).map(bill=>{\n                return <Billtem key={bill._id} bill={bill}/>\n            }): <h3>No Bills Added</h3>}\n            </div>\n            }\n            <ReactPaginate\n            previousLabel={\"Previous\"}\n            pageCount={pageCount}\n            nextLabel={\"Next\"}\n            onPageChange={changePage}\n            />\n        </div>\n    )\n}\n\nexport default BillList"]},"metadata":{},"sourceType":"module"}