{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import ProductItem from\"./ProductItem\";import sortedData from\"../../selectors/sortedData\";import ReactPaginate from'react-paginate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(props){var products=useSelector(function(state){return state.products.data;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sort=_useState4[0],setSort=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pageNumber=_useState8[0],setPageNumber=_useState8[1];var productsPerPage=10;var pagesVisited=pageNumber*productsPerPage;useEffect(function(){setData(_toConsumableArray(products));},[products]);var filteredProducts=function filteredProducts(){var result=data.filter(function(ele){return ele.name.toLowerCase().includes(search.toLowerCase());});return result;};var handleSortChange=function handleSortChange(e){setSort(e.target.value);var sortedProducts=[];if(e.target.value==='ascName'){sortedProducts=sortedData(data,'name');}else if(e.target.value==='descName'){sortedProducts=sortedData(data,'name').reverse();}else{sortedProducts=_toConsumableArray(products);}setData(sortedProducts);};var handleSearchChange=function handleSearchChange(e){setSearch(e.target.value);};var pageCount=filteredProducts().length>0?Math.ceil(filteredProducts().length/productsPerPage):Math.ceil(data.length/productsPerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List of Products\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search by product name\",value:search,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:sort,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sort By: None\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ascName\",children:\"Name A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"descName\",children:\"Name Z-A\"})]})}),/*#__PURE__*/_jsx(\"p\",{}),search?/*#__PURE__*/_jsx(\"div\",{children:filteredProducts().length>0?filteredProducts().slice(pagesVisited,pagesVisited+productsPerPage).map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Products Added\"})}):/*#__PURE__*/_jsx(\"div\",{children:data.length>0?data.slice(pagesVisited,pagesVisited+productsPerPage).map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Products Added\"})}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"Previous\",pageCount:pageCount,nextLabel:\"Next\",onPageChange:changePage})]});};export default ProductList;","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/Components/Products/ProductList.js"],"names":["React","useState","useEffect","useSelector","ProductItem","sortedData","ReactPaginate","ProductList","props","products","state","data","search","setSearch","sort","setSort","setData","pageNumber","setPageNumber","productsPerPage","pagesVisited","filteredProducts","result","filter","ele","name","toLowerCase","includes","handleSortChange","e","target","value","sortedProducts","reverse","handleSearchChange","pageCount","length","Math","ceil","changePage","selected","slice","map","product","_id"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ProductItem from \"./ProductItem\";\nimport sortedData from \"../../selectors/sortedData\";\nimport ReactPaginate from 'react-paginate'\n\nconst ProductList = (props) => {\n\n    const products = useSelector(state=>state.products.data)\n\n    const [search, setSearch] = useState('')\n    const [sort, setSort] = useState('')\n    const [data, setData] = useState([])\n    const [pageNumber, setPageNumber] = useState(0)\n    const productsPerPage = 10\n    const pagesVisited = pageNumber * productsPerPage\n\n    useEffect(() => {\n        setData([...products])\n    },[products])\n\n    const filteredProducts = () => {\n        const result = data.filter(ele=>{\n            return ele.name.toLowerCase().includes(search.toLowerCase())\n        })\n        return result\n    }\n\n    const handleSortChange = (e) => {\n        setSort(e.target.value)\n        let sortedProducts = []\n        if(e.target.value === 'ascName'){\n            sortedProducts = sortedData(data, 'name')\n        } else if(e.target.value === 'descName'){\n            sortedProducts = sortedData(data, 'name').reverse()\n        } else {\n            sortedProducts = [...products]\n        }\n        setData(sortedProducts)   \n    }\n\n    const handleSearchChange = (e) => {\n        setSearch(e.target.value)\n    }\n\n    const pageCount = filteredProducts().length > 0 ? Math.ceil(filteredProducts().length / productsPerPage) : Math.ceil(data.length / productsPerPage)\n\n    const changePage = ({selected}) => {\n        setPageNumber(selected)\n    }\n\n    return (\n        <div>\n            <h3>List of Products</h3>\n            <input type=\"search\" placeholder=\"Search by product name\" value={search} onChange={handleSearchChange}/>\n            <p></p>\n            <div>\n                <select value={sort} onChange={handleSortChange}>\n                    <option value=\"\">Sort By: None</option>\n                    <option value=\"ascName\">Name A-Z</option>\n                    <option value=\"descName\">Name Z-A</option>\n                </select>\n            </div>\n            <p></p>\n            {search?\n            <div>\n                {filteredProducts().length>0 ? filteredProducts().slice(pagesVisited, pagesVisited+productsPerPage).map(product=>{\n                return <ProductItem key={product._id} product={product}/>\n            }): <h3>No Products Added</h3>}\n            </div>:\n            <div>\n            {data.length>0 ? data.slice(pagesVisited, pagesVisited+productsPerPage).map(product=>{\n                return <ProductItem key={product._id} product={product}/>\n            }): <h3>No Products Added</h3>}\n            </div>\n            }\n            <ReactPaginate\n            previousLabel={\"Previous\"}\n            pageCount={pageCount}\n            nextLabel={\"Next\"}\n            onPageChange={changePage}\n            />\n        </div>\n    )\n}\n\nexport default ProductList"]},"metadata":{},"sourceType":"module"}