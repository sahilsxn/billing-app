{"ast":null,"code":"import axios from '../config/axios';\nexport const asyncGetAllBills = () => {\n  return dispatch => {\n    axios.get('/bills', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(getAllBills(result.reverse()));\n        console.log(result);\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const getAllBills = bills => {\n  return {\n    type: 'GET_ALL_BILLS',\n    payload: bills\n  };\n};\nexport const asyncGetBill = id => {\n  return dispatch => {\n    axios.get(`/bills/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(getBill(result));\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const getBill = bill => {\n  return {\n    type: 'GET_BILL',\n    payload: bill\n  };\n};\nexport const asyncAddBill = formData => {\n  return dispatch => {\n    axios.post('/bills', formData, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(addBill(result));\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const addBill = bill => {\n  return {\n    type: 'ADD_BILL',\n    payload: bill\n  };\n};\nexport const asyncDeleteBill = id => {\n  return dispatch => {\n    axios.delete(`/bills/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      dispatch(deleteBill(result.lineitems._id));\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const deleteBill = id => {\n  return {\n    type: 'DELETE_PRODUCT',\n    payload: id\n  };\n};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/actions/billActions.js"],"names":["axios","asyncGetAllBills","dispatch","get","headers","localStorage","getItem","then","response","result","data","hasOwnProperty","alert","message","getAllBills","reverse","console","log","catch","err","bills","type","payload","asyncGetBill","id","getBill","bill","asyncAddBill","formData","post","addBill","asyncDeleteBill","delete","deleteBill","lineitems","_id"],"mappings":"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","sourcesContent":["import axios from '../config/axios'\n\nexport const asyncGetAllBills = () => {\n    return (dispatch) => {\n        axios.get('/bills',{\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(getAllBills(result.reverse()))\n                console.log(result)\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const getAllBills = (bills) => {\n    return {\n        type: 'GET_ALL_BILLS',\n        payload: bills\n    }\n}\n\nexport const asyncGetBill = (id) => {\n    return (dispatch) => {\n        axios.get(`/bills/${id}`,{\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(getBill(result))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const getBill = (bill) => {\n    return {\n        type: 'GET_BILL',\n        payload: bill\n    }\n}\n\nexport const asyncAddBill = (formData) => {\n\n    return (dispatch) => {\n        axios.post('/bills', formData, {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if (result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(addBill(result))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const addBill = (bill) => {\n    return {\n        type: 'ADD_BILL',\n        payload: bill\n    }\n}\n\nexport const asyncDeleteBill = (id) => {\n    return (dispatch) => {\n        axios.delete(`/bills/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            dispatch(deleteBill(result.lineitems._id))\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const deleteBill = (id) => {\n    return {\n        type: 'DELETE_PRODUCT',\n        payload: id\n    }\n}"]},"metadata":{},"sourceType":"module"}