{"ast":null,"code":"import _slicedToArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{asyncDeleteBill,asyncGetAllBills}from\"../../actions/billActions\";import ShowBill from'./ShowBill';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BillItem=function BillItem(props){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showBill=_useState2[0],setShowBill=_useState2[1];var bill=props.bill;var customers=useSelector(function(state){return state.customers.data;});var handleDelete=function handleDelete(){dispatch(asyncDeleteBill(bill._id));dispatch(asyncGetAllBills());};var dated=function dated(str){return new Date(str);};var customerInfo=function customerInfo(){var result=customers.find(function(ele){return ele._id===bill.customer;});return result;};var handleShow=function handleShow(){setShowBill(!showBill);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between p-3 align-items-center\",children:[/*#__PURE__*/_jsx(\"b\",{children:customerInfo().email}),/*#__PURE__*/_jsx(\"p\",{children:customerInfo().name}),/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(dated(bill.createdAt).getDate(),\"/\").concat(dated(bill.createdAt).getMonth()+1,\"/\").concat(dated(bill.createdAt).getFullYear())}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleShow,children:\"Show Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-3\",onClick:handleDelete,children:\"Delete\"}),/*#__PURE__*/_jsx(\"p\",{})]}),showBill&&/*#__PURE__*/_jsx(ShowBill,{handleShow:handleShow,customerInfo:customerInfo,bill:bill})]});};export default BillItem;","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/Components/Bills/Billtem.js"],"names":["React","useDispatch","useSelector","asyncDeleteBill","asyncGetAllBills","ShowBill","useState","BillItem","props","dispatch","showBill","setShowBill","bill","customers","state","data","handleDelete","_id","dated","str","Date","customerInfo","result","find","ele","customer","handleShow","email","name","createdAt","getDate","getMonth","getFullYear"],"mappings":"yIAAA,OAAQA,KAAR,KAAoB,OAApB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,eAAT,CAA0BC,gBAA1B,KAAkD,2BAAlD,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAExB,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,cAAgCK,QAAQ,CAAC,KAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eAEA,GAAOC,CAAAA,IAAP,CAAeJ,KAAf,CAAOI,IAAP,CAEA,GAAMC,CAAAA,SAAS,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAEA,CAAAA,KAAK,CAACD,SAAN,CAAgBE,IAAlB,EAAN,CAA7B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBP,QAAQ,CAACN,eAAe,CAACS,IAAI,CAACK,GAAN,CAAhB,CAAR,CACAR,QAAQ,CAACL,gBAAgB,EAAjB,CAAR,CACH,CAHD,CAKA,GAAMc,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,GAAD,QAAS,IAAIC,CAAAA,IAAJ,CAASD,GAAT,CAAT,EAAd,CAEA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAMC,CAAAA,MAAM,CAAGT,SAAS,CAACU,IAAV,CAAe,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACP,GAAJ,GAAYL,IAAI,CAACa,QAAnB,EAAlB,CAAf,CACA,MAAOH,CAAAA,MAAP,CACH,CAHD,CAKA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBf,WAAW,CAAC,CAACD,QAAF,CAAX,CACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,uDAAf,wBACI,mBAAIW,YAAY,GAAGM,KAAnB,EADJ,cAEI,mBAAIN,YAAY,GAAGO,IAAnB,EAFJ,cAGI,6BAAOV,KAAK,CAACN,IAAI,CAACiB,SAAN,CAAL,CAAsBC,OAAtB,EAAP,aAA0CZ,KAAK,CAACN,IAAI,CAACiB,SAAN,CAAL,CAAsBE,QAAtB,GAAiC,CAA3E,aAAgFb,KAAK,CAACN,IAAI,CAACiB,SAAN,CAAL,CAAsBG,WAAtB,EAAhF,GAHJ,cAII,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAEN,UAA/C,0BAJJ,cAKI,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAEV,YAAjD,oBALJ,cAMI,YANJ,GADJ,CASKN,QAAQ,eAAI,KAAC,QAAD,EAAU,UAAU,CAAEgB,UAAtB,CAAkC,YAAY,CAAEL,YAAhD,CAA8D,IAAI,CAAET,IAApE,EATjB,GADJ,CAaH,CAvCD,CAyCA,cAAeL,CAAAA,QAAf","sourcesContent":["import {React} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { asyncDeleteBill, asyncGetAllBills } from \"../../actions/billActions\";\nimport ShowBill from './ShowBill';\nimport { useState } from \"react\";\n\nconst BillItem = (props) => {\n\n    const dispatch = useDispatch()\n\n    const [showBill, setShowBill] = useState(false)\n\n    const {bill} = props\n\n    const customers = useSelector(state=>state.customers.data)\n\n    const handleDelete = () => {\n        dispatch(asyncDeleteBill(bill._id))\n        dispatch(asyncGetAllBills())\n    }\n\n    const dated = (str) => new Date(str)\n\n    const customerInfo = () => {\n        const result = customers.find(ele=>ele._id === bill.customer)\n        return result\n    }\n\n    const handleShow = () => {\n        setShowBill(!showBill)\n    }\n\n    return (\n        <div className=\"card mb-3\">\n            <div className=\"d-flex justify-content-between p-3 align-items-center\">\n                <b>{customerInfo().email}</b>\n                <p>{customerInfo().name}</p>\n                <p>{`${dated(bill.createdAt).getDate()}/${dated(bill.createdAt).getMonth()+1}/${dated(bill.createdAt).getFullYear()}`}</p>\n                <button className=\"btn btn-secondary\" onClick={handleShow}>Show Details</button>\n                <button className=\"btn btn-danger mx-3\" onClick={handleDelete}>Delete</button>\n                <p></p>\n            </div>\n            {showBill && <ShowBill handleShow={handleShow} customerInfo={customerInfo} bill={bill} />}\n        </div>\n    )\n}\n\nexport default BillItem"]},"metadata":{},"sourceType":"module"}