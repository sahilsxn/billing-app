{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import CustomerItem from\"./CustomerItem\";import sortedData from\"../../selectors/sortedData\";import ReactPaginate from'react-paginate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomerList=function CustomerList(props){var customers=useSelector(function(state){return state.customers.data;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sort=_useState4[0],setSort=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pageNumber=_useState8[0],setPageNumber=_useState8[1];var customersPerPage=10;var pagesVisited=pageNumber*customersPerPage;useEffect(function(){setData(_toConsumableArray(customers));},[customers]);var filteredCustomers=function filteredCustomers(){var result=data.filter(function(ele){return ele.name.toLowerCase().includes(search.toLowerCase())||ele.email.toLowerCase().includes(search.toLowerCase())||ele.mobile===Number(search);});return result;};var handleSortChange=function handleSortChange(e){setSort(e.target.value);var sortedCustomers=[];if(e.target.value==='ascName'){sortedCustomers=sortedData(data,'name');}else if(e.target.value==='descName'){sortedCustomers=sortedData(data,'name').reverse();}else{sortedCustomers=_toConsumableArray(customers);}setData(sortedCustomers);};var handleSearchChange=function handleSearchChange(e){setSearch(e.target.value);};var pageCount=filteredCustomers().length>0?Math.ceil(filteredCustomers().length/customersPerPage):Math.ceil(data.length/customersPerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};return/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-5 mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List of Customers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search by phone or mobile\",value:search,onChange:handleSearchChange})}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"select\",{value:sort,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sort By: None\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ascName\",children:\"Name A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"descName\",children:\"Name Z-A\"})]})}),/*#__PURE__*/_jsx(\"p\",{}),search?/*#__PURE__*/_jsx(\"div\",{children:filteredCustomers().length>0?filteredCustomers().slice(pagesVisited,pagesVisited+customersPerPage).map(function(customer){return/*#__PURE__*/_jsx(CustomerItem,{customer:customer},customer._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Customers Added\"})}):/*#__PURE__*/_jsx(\"div\",{children:data.length>0?data.slice(pagesVisited,pagesVisited+customersPerPage).map(function(customer){return/*#__PURE__*/_jsx(CustomerItem,{customer:customer},customer._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Customers Added\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"Previous\",pageCount:pageCount,nextLabel:\"Next\",onPageChange:changePage})})]});};export default CustomerList;","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/Components/Customers/CustomerList.js"],"names":["React","useState","useEffect","useSelector","CustomerItem","sortedData","ReactPaginate","CustomerList","props","customers","state","data","search","setSearch","sort","setSort","setData","pageNumber","setPageNumber","customersPerPage","pagesVisited","filteredCustomers","result","filter","ele","name","toLowerCase","includes","email","mobile","Number","handleSortChange","e","target","value","sortedCustomers","reverse","handleSearchChange","pageCount","length","Math","ceil","changePage","selected","slice","map","customer","_id"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CustomerItem from \"./CustomerItem\";\nimport sortedData from \"../../selectors/sortedData\";\nimport ReactPaginate from 'react-paginate'\n\nconst CustomerList = (props) => {\n\n    const customers = useSelector(state=>state.customers.data)\n\n    const [search, setSearch] = useState('')\n    const [sort, setSort] = useState('')\n    const [data, setData] = useState([])\n    const [pageNumber, setPageNumber] = useState(0)\n    const customersPerPage = 10\n    const pagesVisited = pageNumber * customersPerPage\n\n    useEffect(() => {\n        setData([...customers])\n    },[customers])\n\n    const filteredCustomers = () => {\n        const result = data.filter(ele=>{\n            return ele.name.toLowerCase().includes(search.toLowerCase()) ||\n            ele.email.toLowerCase().includes(search.toLowerCase()) ||\n            (ele.mobile === Number(search))\n        })\n        return result\n    }\n\n    const handleSortChange = (e) => {\n        setSort(e.target.value)\n        let sortedCustomers = []\n        if(e.target.value === 'ascName'){\n            sortedCustomers = sortedData(data, 'name')\n        } else if(e.target.value === 'descName'){\n            sortedCustomers = sortedData(data, 'name').reverse()\n        } else {\n            sortedCustomers = [...customers]\n        }\n        setData(sortedCustomers)\n    }\n\n    const handleSearchChange = (e) => {\n        setSearch(e.target.value)\n    }\n\n    const pageCount = filteredCustomers().length > 0 ? Math.ceil(filteredCustomers().length / customersPerPage) : Math.ceil(data.length / customersPerPage)\n\n\n    const changePage = ({selected}) => {\n        setPageNumber(selected)\n    }\n\n    return (\n        <div className=\"row mb-5 mt-5\">\n            <h3>List of Customers</h3>\n            <div className=\"col-md-4\">\n            <input type=\"search\" placeholder=\"Search by phone or mobile\" value={search} onChange={handleSearchChange}/>\n            </div>\n            <p></p>\n            <div className=\"col-md-4\">\n                <select value={sort} onChange={handleSortChange}>\n                    <option value=\"\">Sort By: None</option>\n                    <option value=\"ascName\">Name A-Z</option>\n                    <option value=\"descName\">Name Z-A</option>\n                </select>\n            </div>\n            <p></p>\n            {search?\n            <div>\n                {filteredCustomers().length>0 ? filteredCustomers().slice(pagesVisited, pagesVisited+customersPerPage).map(customer=>{\n                return <CustomerItem key={customer._id} customer={customer}/>\n            }): <h3>No Customers Added</h3>}\n            </div>:\n            <div>\n                {data.length>0 ? data.slice(pagesVisited, pagesVisited+customersPerPage).map(customer=>{\n                return <CustomerItem key={customer._id} customer={customer}/>\n            }): <h3>No Customers Added</h3>}\n            </div>\n            }\n            <div className=\"col-md-4\">\n            <ReactPaginate\n            previousLabel={\"Previous\"}\n            pageCount={pageCount}\n            nextLabel={\"Next\"}\n            onPageChange={changePage}\n            />\n            </div>\n        </div>\n    )\n}\n\nexport default CustomerList"]},"metadata":{},"sourceType":"module"}