{"ast":null,"code":"import axios from'../config/axios';export var asyncRegister=function asyncRegister(formData,formReset){return function(dispatch){axios.post('/users/register',formData).then(function(response){var result=response.data;if(result.hasOwnProperty('errors')){alert(result.message);}else{dispatch(register(result));alert('Account successfully created');formReset();}}).catch(function(err){console.log(err.message);});};};export var register=function register(formData){return{type:'REGISTER',payload:formData};};export var asyncLogin=function asyncLogin(formData,formReset){return function(dispatch){axios.post('users/login',formData).then(function(response){var result=response.data;if(result.hasOwnProperty('errors')){alert(result.message);}else{dispatch(login());alert(\"Successfully Logged In\");localStorage.setItem('token',result.token);formReset();}}).catch(function(err){console.log(err.message);});};};export var login=function login(){return{type:'LOGIN'};};export var asyncGetUser=function asyncGetUser(){return function(dispatch){axios.get('/users/account',{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(response){var result=response.data;if(result.hasOwnProperty('errors')){alert(result.message);}else{dispatch(getUser(result));}}).catch(function(err){console.log(err.message);});};};export var getUser=function getUser(user){return{type:'GET_USER',payload:user};};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/actions/userActions.js"],"names":["axios","asyncRegister","formData","formReset","dispatch","post","then","response","result","data","hasOwnProperty","alert","message","register","catch","err","console","log","type","payload","asyncLogin","login","localStorage","setItem","token","asyncGetUser","get","headers","getItem","getUser","user"],"mappings":"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","sourcesContent":["import axios from '../config/axios'\n\nexport const asyncRegister = (formData, formReset) => {\n    return (dispatch) => {\n        axios.post('/users/register', formData)\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(register(result))\n                alert('Account successfully created')\n                formReset()\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const register = (formData) => {\n    return {\n        type: 'REGISTER',\n        payload: formData\n    }\n}\n\nexport const asyncLogin = (formData, formReset) => {\n    return (dispatch) => {\n        axios.post('users/login', formData)\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(login())\n                alert(\"Successfully Logged In\")\n                localStorage.setItem('token', result.token)\n                formReset()\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const login = () => {\n    return {\n        type: 'LOGIN',\n    }\n}\n\nexport const asyncGetUser = () => {\n    return (dispatch) => {\n        axios.get('/users/account',{\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(getUser(result))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const getUser = (user) => {\n    return {\n        type: 'GET_USER',\n        payload: user\n    }\n}"]},"metadata":{},"sourceType":"module"}