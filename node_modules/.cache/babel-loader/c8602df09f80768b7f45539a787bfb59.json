{"ast":null,"code":"import axios from '../config/axios';\nexport const asyncRegister = (formData, formReset) => {\n  return dispatch => {\n    axios.post('/users/register', formData).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(register(result));\n        alert('Account successfully created');\n        formReset();\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const register = formData => {\n  return {\n    type: 'REGISTER',\n    payload: formData\n  };\n};\nexport const asyncLogin = (formData, formReset) => {\n  return dispatch => {\n    axios.post('users/login', formData).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(login());\n        alert(\"Successfully Logged In\");\n        localStorage.setItem('token', result.token);\n        formReset();\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const login = () => {\n  return {\n    type: 'LOGIN'\n  };\n};\nexport const asyncGetuser = () => {\n  return dispatch => {\n    axios.get('/products', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(getProducts(result.reverse()));\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const getProducts = product => {\n  return {\n    type: 'GET_PRODUCTS',\n    payload: product\n  };\n};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/actions/userActions.js"],"names":["axios","asyncRegister","formData","formReset","dispatch","post","then","response","result","data","hasOwnProperty","alert","message","register","catch","err","console","log","type","payload","asyncLogin","login","localStorage","setItem","token","asyncGetuser","get","headers","getItem","getProducts","reverse","product"],"mappings":"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","sourcesContent":["import axios from '../config/axios'\n\nexport const asyncRegister = (formData, formReset) => {\n    return (dispatch) => {\n        axios.post('/users/register', formData)\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(register(result))\n                alert('Account successfully created')\n                formReset()\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const register = (formData) => {\n    return {\n        type: 'REGISTER',\n        payload: formData\n    }\n}\n\nexport const asyncLogin = (formData, formReset) => {\n    return (dispatch) => {\n        axios.post('users/login', formData)\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(login())\n                alert(\"Successfully Logged In\")\n                localStorage.setItem('token', result.token)\n                formReset()\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const login = () => {\n    return {\n        type: 'LOGIN',\n    }\n}\n\nexport const asyncGetuser = () => {\n    return (dispatch) => {\n        axios.get('/products',{\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(getProducts(result.reverse()))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const getProducts = (product) => {\n    return {\n        type: 'GET_PRODUCTS',\n        payload: product\n    }\n}"]},"metadata":{},"sourceType":"module"}