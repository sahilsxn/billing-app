{"ast":null,"code":"import axios from '../config/axios';\nexport const asyncGetProducts = () => {\n  return dispatch => {\n    axios.get('/products', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(getProducts(result.reverse()));\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const getProducts = products => {\n  return {\n    type: 'GET_PRODUCTS',\n    payload: products\n  };\n};\nexport const asyncAddProduct = (formData, formReset) => {\n  return dispatch => {\n    axios.post('/products', formData, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(addProduct(result));\n        formReset();\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const addProduct = product => {\n  return {\n    type: 'ADD_PRODUCT',\n    payload: product\n  };\n};\nexport const asyncDeleteProduct = id => {\n  return dispatch => {\n    axios.delete(`/products/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      dispatch(deleteProduct(result._id));\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const deleteProduct = id => {\n  return {\n    type: 'DELETE_PRODUCT',\n    payload: id\n  };\n};\nexport const asyncEditProduct = (formData, id) => {\n  return dispatch => {\n    axios.put(`/products/${id}`, formData, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n\n      if (result.hasOwnProperty('errors')) {\n        alert(result.message);\n      } else {\n        dispatch(editProduct(result));\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n};\nexport const editProduct = product => {\n  return {\n    type: 'EDIT_PRODUCT',\n    payload: product\n  };\n};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/src/actions/ProductActions.js"],"names":["axios","asyncGetProducts","dispatch","get","headers","localStorage","getItem","then","response","result","data","hasOwnProperty","alert","message","getProducts","reverse","catch","err","console","log","products","type","payload","asyncAddProduct","formData","formReset","post","addProduct","product","asyncDeleteProduct","id","delete","deleteProduct","_id","asyncEditProduct","put","editProduct"],"mappings":"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","sourcesContent":["import axios from '../config/axios'\n\nexport const asyncGetProducts = () => {\n    return (dispatch) => {\n        axios.get('/products',{\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(getProducts(result.reverse()))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const getProducts = (products) => {\n    return {\n        type: 'GET_PRODUCTS',\n        payload: products\n    }\n}\n\nexport const asyncAddProduct = (formData, formReset) => {\n\n    return (dispatch) => {\n        axios.post('/products', formData, {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if (result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(addProduct(result))\n                formReset()\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const addProduct = (product) => {\n    return {\n        type: 'ADD_PRODUCT',\n        payload: product\n    }\n}\n\nexport const asyncDeleteProduct = (id) => {\n    return (dispatch) => {\n        axios.delete(`/products/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            dispatch(deleteProduct(result._id))\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const deleteProduct = (id) => {\n    return {\n        type: 'DELETE_PRODUCT',\n        payload: id\n    }\n}\n\nexport const asyncEditProduct = (formData, id) => {\n    return (dispatch) => {\n        axios.put(`/products/${id}`, formData, {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            if(result.hasOwnProperty('errors')){\n                alert(result.message)\n            } else {\n                dispatch(editProduct(result))\n            }\n        })\n        .catch((err)=>{\n            console.log(err.message)\n        })\n    }\n}\n\nexport const editProduct = (product) => {\n    return {\n        type: 'EDIT_PRODUCT',\n        payload: product\n    }\n}"]},"metadata":{},"sourceType":"module"}