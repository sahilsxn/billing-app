{"ast":null,"code":"var cmpChar = require('../../tokenizer').cmpChar;\n\nvar isDigit = require('../../tokenizer').isDigit;\n\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B; // U+002B PLUS SIGN (+)\n\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\n\nvar N = 0x006E; // U+006E LATIN SMALL LETTER N (n)\n\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n  var pos = this.scanner.tokenStart + offset;\n  var code = this.scanner.source.charCodeAt(pos);\n\n  if (code === PLUSSIGN || code === HYPHENMINUS) {\n    if (disallowSign) {\n      this.error('Number sign is not allowed');\n    }\n\n    pos++;\n  }\n\n  for (; pos < this.scanner.tokenEnd; pos++) {\n    if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n      this.error('Integer is expected', pos);\n    }\n  }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n  return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n  if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n    var msg = '';\n\n    switch (code) {\n      case N:\n        msg = 'N is expected';\n        break;\n\n      case HYPHENMINUS:\n        msg = 'HyphenMinus is expected';\n        break;\n    }\n\n    this.error(msg, this.scanner.tokenStart + offset);\n  }\n} // ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\n\n\nfunction consumeB() {\n  var offset = 0;\n  var sign = 0;\n  var type = this.scanner.tokenType;\n\n  while (type === WHITESPACE || type === COMMENT) {\n    type = this.scanner.lookupType(++offset);\n  }\n\n  if (type !== NUMBER) {\n    if (this.scanner.isDelim(PLUSSIGN, offset) || this.scanner.isDelim(HYPHENMINUS, offset)) {\n      sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n      do {\n        type = this.scanner.lookupType(++offset);\n      } while (type === WHITESPACE || type === COMMENT);\n\n      if (type !== NUMBER) {\n        this.scanner.skip(offset);\n        checkTokenIsInteger.call(this, DISALLOW_SIGN);\n      }\n    } else {\n      return null;\n    }\n  }\n\n  if (offset > 0) {\n    this.scanner.skip(offset);\n  }\n\n  if (sign === 0) {\n    type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n    if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n      this.error('Number sign is expected');\n    }\n  }\n\n  checkTokenIsInteger.call(this, sign !== 0);\n  return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n} // An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\n\n\nmodule.exports = {\n  name: 'AnPlusB',\n  structure: {\n    a: [String, null],\n    b: [String, null]\n  },\n  parse: function () {\n    /* eslint-disable brace-style*/\n    var start = this.scanner.tokenStart;\n    var a = null;\n    var b = null; // <integer>\n\n    if (this.scanner.tokenType === NUMBER) {\n      checkTokenIsInteger.call(this, ALLOW_SIGN);\n      b = this.consume(NUMBER);\n    } // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n      a = '-1';\n      expectCharCode.call(this, 1, N);\n\n      switch (this.scanner.getTokenLength()) {\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        case 2:\n          this.scanner.next();\n          b = consumeB.call(this);\n          break;\n        // -n- <signless-integer>\n\n        case 3:\n          expectCharCode.call(this, 2, HYPHENMINUS);\n          this.scanner.next();\n          this.scanner.skipSC();\n          checkTokenIsInteger.call(this, DISALLOW_SIGN);\n          b = '-' + this.consume(NUMBER);\n          break;\n        // <dashndashdigit-ident>\n\n        default:\n          expectCharCode.call(this, 2, HYPHENMINUS);\n          checkInteger.call(this, 3, DISALLOW_SIGN);\n          this.scanner.next();\n          b = this.scanner.substrToCursor(start + 2);\n      }\n    } // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (this.scanner.tokenType === IDENT || this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT) {\n      var sign = 0;\n      a = '1'; // just ignore a plus\n\n      if (this.scanner.isDelim(PLUSSIGN)) {\n        sign = 1;\n        this.scanner.next();\n      }\n\n      expectCharCode.call(this, 0, N);\n\n      switch (this.scanner.getTokenLength()) {\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        case 1:\n          this.scanner.next();\n          b = consumeB.call(this);\n          break;\n        // '+'? n- <signless-integer>\n\n        case 2:\n          expectCharCode.call(this, 1, HYPHENMINUS);\n          this.scanner.next();\n          this.scanner.skipSC();\n          checkTokenIsInteger.call(this, DISALLOW_SIGN);\n          b = '-' + this.consume(NUMBER);\n          break;\n        // '+'? <ndashdigit-ident>\n\n        default:\n          expectCharCode.call(this, 1, HYPHENMINUS);\n          checkInteger.call(this, 2, DISALLOW_SIGN);\n          this.scanner.next();\n          b = this.scanner.substrToCursor(start + sign + 1);\n      }\n    } // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (this.scanner.tokenType === DIMENSION) {\n      var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n      var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n      for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n        if (!isDigit(this.scanner.source.charCodeAt(i))) {\n          break;\n        }\n      }\n\n      if (i === this.scanner.tokenStart + sign) {\n        this.error('Integer is expected', this.scanner.tokenStart + sign);\n      }\n\n      expectCharCode.call(this, i - this.scanner.tokenStart, N);\n      a = this.scanner.source.substring(start, i); // <n-dimension>\n      // <n-dimension> <signed-integer>\n      // <n-dimension> ['+' | '-'] <signless-integer>\n\n      if (i + 1 === this.scanner.tokenEnd) {\n        this.scanner.next();\n        b = consumeB.call(this);\n      } else {\n        expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS); // <ndash-dimension> <signless-integer>\n\n        if (i + 2 === this.scanner.tokenEnd) {\n          this.scanner.next();\n          this.scanner.skipSC();\n          checkTokenIsInteger.call(this, DISALLOW_SIGN);\n          b = '-' + this.consume(NUMBER);\n        } // <ndashdigit-dimension>\n        else {\n          checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n          this.scanner.next();\n          b = this.scanner.substrToCursor(i + 1);\n        }\n      }\n    } else {\n      this.error();\n    }\n\n    if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n      a = a.substr(1);\n    }\n\n    if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n      b = b.substr(1);\n    }\n\n    return {\n      type: 'AnPlusB',\n      loc: this.getLocation(start, this.scanner.tokenStart),\n      a: a,\n      b: b\n    };\n  },\n  generate: function (node) {\n    var a = node.a !== null && node.a !== undefined;\n    var b = node.b !== null && node.b !== undefined;\n\n    if (a) {\n      this.chunk(node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n      node.a === '1' ? 'n' : // eslint-disable-line operator-linebreak, indent\n      node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n      node.a + 'n' // eslint-disable-line operator-linebreak, indent\n      );\n\n      if (b) {\n        b = String(node.b);\n\n        if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n          this.chunk(b.charAt(0));\n          this.chunk(b.substr(1));\n        } else {\n          this.chunk('+');\n          this.chunk(b);\n        }\n      }\n    } else {\n      this.chunk(String(node.b));\n    }\n  }\n};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/react-pdf-html/node_modules/css-tree/lib/syntax/node/AnPlusB.js"],"names":["cmpChar","require","isDigit","TYPE","WHITESPACE","WhiteSpace","COMMENT","Comment","IDENT","Ident","NUMBER","Number","DIMENSION","Dimension","PLUSSIGN","HYPHENMINUS","N","DISALLOW_SIGN","ALLOW_SIGN","checkInteger","offset","disallowSign","pos","scanner","tokenStart","code","source","charCodeAt","error","tokenEnd","checkTokenIsInteger","call","expectCharCode","msg","consumeB","sign","type","tokenType","lookupType","isDelim","skip","consume","module","exports","name","structure","a","String","b","parse","start","getTokenLength","next","skipSC","substrToCursor","i","substring","substr","loc","getLocation","generate","node","undefined","chunk","charAt"],"mappings":"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","sourcesContent":["var cmpChar = require('../../tokenizer').cmpChar;\nvar isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    var pos = this.scanner.tokenStart + offset;\n    var code = this.scanner.source.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.scanner.tokenEnd; pos++) {\n        if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n        var msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.scanner.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    var offset = 0;\n    var sign = 0;\n    var type = this.scanner.tokenType;\n\n    while (type === WHITESPACE || type === COMMENT) {\n        type = this.scanner.lookupType(++offset);\n    }\n\n    if (type !== NUMBER) {\n        if (this.scanner.isDelim(PLUSSIGN, offset) ||\n            this.scanner.isDelim(HYPHENMINUS, offset)) {\n            sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.scanner.lookupType(++offset);\n            } while (type === WHITESPACE || type === COMMENT);\n\n            if (type !== NUMBER) {\n                this.scanner.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.scanner.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = {\n    name: 'AnPlusB',\n    structure: {\n        a: [String, null],\n        b: [String, null]\n    },\n    parse: function() {\n        /* eslint-disable brace-style*/\n        var start = this.scanner.tokenStart;\n        var a = null;\n        var b = null;\n\n        // <integer>\n        if (this.scanner.tokenType === NUMBER) {\n            checkTokenIsInteger.call(this, ALLOW_SIGN);\n            b = this.consume(NUMBER);\n        }\n\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        // -n- <signless-integer>\n        // <dashndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n            a = '-1';\n\n            expectCharCode.call(this, 1, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // -n\n                // -n <signed-integer>\n                // -n ['+' | '-'] <signless-integer>\n                case 2:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // -n- <signless-integer>\n                case 3:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // <dashndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n                    checkInteger.call(this, 3, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + 2);\n            }\n        }\n\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        // '+'? n- <signless-integer>\n        // '+'? <ndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT || (this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT)) {\n            var sign = 0;\n            a = '1';\n\n            // just ignore a plus\n            if (this.scanner.isDelim(PLUSSIGN)) {\n                sign = 1;\n                this.scanner.next();\n            }\n\n            expectCharCode.call(this, 0, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // '+'? n\n                // '+'? n <signed-integer>\n                // '+'? n ['+' | '-'] <signless-integer>\n                case 1:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // '+'? n- <signless-integer>\n                case 2:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // '+'? <ndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n                    checkInteger.call(this, 2, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + sign + 1);\n            }\n        }\n\n        // <ndashdigit-dimension>\n        // <ndash-dimension> <signless-integer>\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        else if (this.scanner.tokenType === DIMENSION) {\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n            var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n            for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n                if (!isDigit(this.scanner.source.charCodeAt(i))) {\n                    break;\n                }\n            }\n\n            if (i === this.scanner.tokenStart + sign) {\n                this.error('Integer is expected', this.scanner.tokenStart + sign);\n            }\n\n            expectCharCode.call(this, i - this.scanner.tokenStart, N);\n            a = this.scanner.source.substring(start, i);\n\n            // <n-dimension>\n            // <n-dimension> <signed-integer>\n            // <n-dimension> ['+' | '-'] <signless-integer>\n            if (i + 1 === this.scanner.tokenEnd) {\n                this.scanner.next();\n                b = consumeB.call(this);\n            } else {\n                expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS);\n\n                // <ndash-dimension> <signless-integer>\n                if (i + 2 === this.scanner.tokenEnd) {\n                    this.scanner.next();\n                    this.scanner.skipSC();\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                    b = '-' + this.consume(NUMBER);\n                }\n                // <ndashdigit-dimension>\n                else {\n                    checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n                    this.scanner.next();\n                    b = this.scanner.substrToCursor(i + 1);\n                }\n            }\n        } else {\n            this.error();\n        }\n\n        if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n            a = a.substr(1);\n        }\n\n        if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n            b = b.substr(1);\n        }\n\n        return {\n            type: 'AnPlusB',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            a: a,\n            b: b\n        };\n    },\n    generate: function(node) {\n        var a = node.a !== null && node.a !== undefined;\n        var b = node.b !== null && node.b !== undefined;\n\n        if (a) {\n            this.chunk(\n                node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n                node.a ===  '1' ?  'n' : // eslint-disable-line operator-linebreak, indent\n                node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n                node.a + 'n'             // eslint-disable-line operator-linebreak, indent\n            );\n\n            if (b) {\n                b = String(node.b);\n                if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n                    this.chunk(b.charAt(0));\n                    this.chunk(b.substr(1));\n                } else {\n                    this.chunk('+');\n                    this.chunk(b);\n                }\n            }\n        } else {\n            this.chunk(String(node.b));\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"script"}