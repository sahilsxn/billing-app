{"ast":null,"code":"var tokenizer = require('../tokenizer');\n\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\n\nvar anPlusB = require('./generic-an-plus-b');\n\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc(']; // https://www.w3.org/TR/css-values-3/#lengths\n\nvar LENGTH = {\n  // absolute length units\n  'px': true,\n  'mm': true,\n  'cm': true,\n  'in': true,\n  'pt': true,\n  'pc': true,\n  'q': true,\n  // relative length units\n  'em': true,\n  'ex': true,\n  'ch': true,\n  'rem': true,\n  // viewport-percentage lengths\n  'vh': true,\n  'vw': true,\n  'vmin': true,\n  'vmax': true,\n  'vm': true\n};\nvar ANGLE = {\n  'deg': true,\n  'grad': true,\n  'rad': true,\n  'turn': true\n};\nvar TIME = {\n  's': true,\n  'ms': true\n};\nvar FREQUENCY = {\n  'hz': true,\n  'khz': true\n}; // https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\n\nvar RESOLUTION = {\n  'dpi': true,\n  'dpcm': true,\n  'dppx': true,\n  'x': true // https://github.com/w3c/csswg-drafts/issues/461\n\n}; // https://drafts.csswg.org/css-grid/#fr-unit\n\nvar FLEX = {\n  'fr': true\n}; // https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\n\nvar DECIBEL = {\n  'db': true\n}; // https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\n\nvar SEMITONES = {\n  'st': true\n}; // safe char code getter\n\nfunction charCode(str, index) {\n  return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n  return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n  for (var i = 0; i < expected.length; i++) {\n    if (eqStr(actual, expected[i])) {\n      return true;\n    }\n  }\n\n  return false;\n} // IE postfix hack, i.e. 123\\0 or 123px\\9\n\n\nfunction isPostfixIeHack(str, offset) {\n  if (offset !== str.length - 2) {\n    return false;\n  }\n\n  return str.charCodeAt(offset) === 0x005C && // U+005C REVERSE SOLIDUS (\\)\n  isDigit(str.charCodeAt(offset + 1));\n}\n\nfunction outOfRange(opts, value, numEnd) {\n  if (opts && opts.type === 'Range') {\n    var num = Number(numEnd !== undefined && numEnd !== value.length ? value.substr(0, numEnd) : value);\n\n    if (isNaN(num)) {\n      return true;\n    }\n\n    if (opts.min !== null && num < opts.min) {\n      return true;\n    }\n\n    if (opts.max !== null && num > opts.max) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n  var startIdx = token.index;\n  var length = 0; // balanced token consuming\n\n  do {\n    length++;\n\n    if (token.balance <= startIdx) {\n      break;\n    }\n  } while (token = getNextToken(length));\n\n  return length;\n} // TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\n\n\nfunction calc(next) {\n  return function (token, getNextToken, opts) {\n    if (token === null) {\n      return 0;\n    }\n\n    if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n      return consumeFunction(token, getNextToken);\n    }\n\n    return next(token, getNextToken, opts);\n  };\n}\n\nfunction tokenType(expectedTokenType) {\n  return function (token) {\n    if (token === null || token.type !== expectedTokenType) {\n      return 0;\n    }\n\n    return 1;\n  };\n}\n\nfunction func(name) {\n  name = name + '(';\n  return function (token, getNextToken) {\n    if (token !== null && eqStr(token.value, name)) {\n      return consumeFunction(token, getNextToken);\n    }\n\n    return 0;\n  };\n} // =========================\n// Complex types\n//\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\n\n\nfunction customIdent(token) {\n  if (token === null || token.type !== TYPE.Ident) {\n    return 0;\n  }\n\n  var name = token.value.toLowerCase(); // The CSS-wide keywords are not valid <custom-ident>s\n\n  if (eqStrAny(name, cssWideKeywords)) {\n    return 0;\n  } // The default keyword is reserved and is also not a valid <custom-ident>\n\n\n  if (eqStr(name, 'default')) {\n    return 0;\n  } // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n  // Specifications using <custom-ident> must specify clearly what other keywords\n  // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n  // in that property’s value definition are excluded. Excluded keywords are excluded\n  // in all ASCII case permutations.\n\n\n  return 1;\n} // https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\n\n\nfunction customPropertyName(token) {\n  // ... defined as any valid identifier\n  if (token === null || token.type !== TYPE.Ident) {\n    return 0;\n  } // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n\n\n  if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n    return 0;\n  }\n\n  return 1;\n} // https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\n\n\nfunction hexColor(token) {\n  if (token === null || token.type !== TYPE.Hash) {\n    return 0;\n  }\n\n  var length = token.value.length; // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n\n  if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n    return 0;\n  }\n\n  for (var i = 1; i < length; i++) {\n    if (!isHexDigit(token.value.charCodeAt(i))) {\n      return 0;\n    }\n  }\n\n  return 1;\n}\n\nfunction idSelector(token) {\n  if (token === null || token.type !== TYPE.Hash) {\n    return 0;\n  }\n\n  if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n    return 0;\n  }\n\n  return 1;\n} // https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\n\n\nfunction declarationValue(token, getNextToken) {\n  if (!token) {\n    return 0;\n  }\n\n  var length = 0;\n  var level = 0;\n  var startIdx = token.index; // The <declaration-value> production matches any sequence of one or more tokens,\n  // so long as the sequence ...\n\n  scan: do {\n    switch (token.type) {\n      // ... does not contain <bad-string-token>, <bad-url-token>,\n      case TYPE.BadString:\n      case TYPE.BadUrl:\n        break scan;\n      // ... unmatched <)-token>, <]-token>, or <}-token>,\n\n      case TYPE.RightCurlyBracket:\n      case TYPE.RightParenthesis:\n      case TYPE.RightSquareBracket:\n        if (token.balance > token.index || token.balance < startIdx) {\n          break scan;\n        }\n\n        level--;\n        break;\n      // ... or top-level <semicolon-token> tokens\n\n      case TYPE.Semicolon:\n        if (level === 0) {\n          break scan;\n        }\n\n        break;\n      // ... or <delim-token> tokens with a value of \"!\"\n\n      case TYPE.Delim:\n        if (token.value === '!' && level === 0) {\n          break scan;\n        }\n\n        break;\n\n      case TYPE.Function:\n      case TYPE.LeftParenthesis:\n      case TYPE.LeftSquareBracket:\n      case TYPE.LeftCurlyBracket:\n        level++;\n        break;\n    }\n\n    length++; // until balance closing\n\n    if (token.balance <= startIdx) {\n      break;\n    }\n  } while (token = getNextToken(length));\n\n  return length;\n} // https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\n\n\nfunction anyValue(token, getNextToken) {\n  if (!token) {\n    return 0;\n  }\n\n  var startIdx = token.index;\n  var length = 0; // The <any-value> production matches any sequence of one or more tokens,\n  // so long as the sequence ...\n\n  scan: do {\n    switch (token.type) {\n      // ... does not contain <bad-string-token>, <bad-url-token>,\n      case TYPE.BadString:\n      case TYPE.BadUrl:\n        break scan;\n      // ... unmatched <)-token>, <]-token>, or <}-token>,\n\n      case TYPE.RightCurlyBracket:\n      case TYPE.RightParenthesis:\n      case TYPE.RightSquareBracket:\n        if (token.balance > token.index || token.balance < startIdx) {\n          break scan;\n        }\n\n        break;\n    }\n\n    length++; // until balance closing\n\n    if (token.balance <= startIdx) {\n      break;\n    }\n  } while (token = getNextToken(length));\n\n  return length;\n} // =========================\n// Dimensions\n//\n\n\nfunction dimension(type) {\n  return function (token, getNextToken, opts) {\n    if (token === null || token.type !== TYPE.Dimension) {\n      return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0); // check unit\n\n    if (type !== null) {\n      // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n      var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n      var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset) ? token.value.substr(numberEnd) : token.value.substring(numberEnd, reverseSolidusOffset);\n\n      if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n        return 0;\n      }\n    } // check range if specified\n\n\n    if (outOfRange(opts, token.value, numberEnd)) {\n      return 0;\n    }\n\n    return 1;\n  };\n} // =========================\n// Percentage\n//\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\n\n\nfunction percentage(token, getNextToken, opts) {\n  // ... corresponds to the <percentage-token> production\n  if (token === null || token.type !== TYPE.Percentage) {\n    return 0;\n  } // check range if specified\n\n\n  if (outOfRange(opts, token.value, token.value.length - 1)) {\n    return 0;\n  }\n\n  return 1;\n} // =========================\n// Numeric\n//\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\n\n\nfunction zero(next) {\n  if (typeof next !== 'function') {\n    next = function () {\n      return 0;\n    };\n  }\n\n  return function (token, getNextToken, opts) {\n    if (token !== null && token.type === TYPE.Number) {\n      if (Number(token.value) === 0) {\n        return 1;\n      }\n    }\n\n    return next(token, getNextToken, opts);\n  };\n} // § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\n\n\nfunction number(token, getNextToken, opts) {\n  if (token === null) {\n    return 0;\n  }\n\n  var numberEnd = consumeNumber(token.value, 0);\n  var isNumber = numberEnd === token.value.length;\n\n  if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n    return 0;\n  } // check range if specified\n\n\n  if (outOfRange(opts, token.value, numberEnd)) {\n    return 0;\n  }\n\n  return 1;\n} // §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\n\n\nfunction integer(token, getNextToken, opts) {\n  // ... corresponds to a subset of the <number-token> production\n  if (token === null || token.type !== TYPE.Number) {\n    return 0;\n  } // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n\n\n  var i = token.value.charCodeAt(0) === 0x002B || // U+002B PLUS SIGN (+)\n  token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n  // When written literally, an integer is one or more decimal digits 0 through 9 ...\n\n  for (; i < token.value.length; i++) {\n    if (!isDigit(token.value.charCodeAt(i))) {\n      return 0;\n    }\n  } // check range if specified\n\n\n  if (outOfRange(opts, token.value, i)) {\n    return 0;\n  }\n\n  return 1;\n}\n\nmodule.exports = {\n  // token types\n  'ident-token': tokenType(TYPE.Ident),\n  'function-token': tokenType(TYPE.Function),\n  'at-keyword-token': tokenType(TYPE.AtKeyword),\n  'hash-token': tokenType(TYPE.Hash),\n  'string-token': tokenType(TYPE.String),\n  'bad-string-token': tokenType(TYPE.BadString),\n  'url-token': tokenType(TYPE.Url),\n  'bad-url-token': tokenType(TYPE.BadUrl),\n  'delim-token': tokenType(TYPE.Delim),\n  'number-token': tokenType(TYPE.Number),\n  'percentage-token': tokenType(TYPE.Percentage),\n  'dimension-token': tokenType(TYPE.Dimension),\n  'whitespace-token': tokenType(TYPE.WhiteSpace),\n  'CDO-token': tokenType(TYPE.CDO),\n  'CDC-token': tokenType(TYPE.CDC),\n  'colon-token': tokenType(TYPE.Colon),\n  'semicolon-token': tokenType(TYPE.Semicolon),\n  'comma-token': tokenType(TYPE.Comma),\n  '[-token': tokenType(TYPE.LeftSquareBracket),\n  ']-token': tokenType(TYPE.RightSquareBracket),\n  '(-token': tokenType(TYPE.LeftParenthesis),\n  ')-token': tokenType(TYPE.RightParenthesis),\n  '{-token': tokenType(TYPE.LeftCurlyBracket),\n  '}-token': tokenType(TYPE.RightCurlyBracket),\n  // token type aliases\n  'string': tokenType(TYPE.String),\n  'ident': tokenType(TYPE.Ident),\n  // complex types\n  'custom-ident': customIdent,\n  'custom-property-name': customPropertyName,\n  'hex-color': hexColor,\n  'id-selector': idSelector,\n  // element( <id-selector> )\n  'an-plus-b': anPlusB,\n  'urange': urange,\n  'declaration-value': declarationValue,\n  'any-value': anyValue,\n  // dimensions\n  'dimension': calc(dimension(null)),\n  'angle': calc(dimension(ANGLE)),\n  'decibel': calc(dimension(DECIBEL)),\n  'frequency': calc(dimension(FREQUENCY)),\n  'flex': calc(dimension(FLEX)),\n  'length': calc(zero(dimension(LENGTH))),\n  'resolution': calc(dimension(RESOLUTION)),\n  'semitones': calc(dimension(SEMITONES)),\n  'time': calc(dimension(TIME)),\n  // percentage\n  'percentage': calc(percentage),\n  // numeric\n  'zero': zero(),\n  'number': calc(number),\n  'integer': calc(integer),\n  // old IE stuff\n  '-ms-legacy-expression': func('expression')\n};","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 3/billing-app/node_modules/react-pdf-html/node_modules/css-tree/lib/lexer/generic.js"],"names":["tokenizer","require","isIdentifierStart","isHexDigit","isDigit","cmpStr","consumeNumber","TYPE","anPlusB","urange","cssWideKeywords","calcFunctionNames","LENGTH","ANGLE","TIME","FREQUENCY","RESOLUTION","FLEX","DECIBEL","SEMITONES","charCode","str","index","length","charCodeAt","eqStr","actual","expected","eqStrAny","i","isPostfixIeHack","offset","outOfRange","opts","value","numEnd","type","num","Number","undefined","substr","isNaN","min","max","consumeFunction","token","getNextToken","startIdx","balance","calc","next","Function","tokenType","expectedTokenType","func","name","customIdent","Ident","toLowerCase","customPropertyName","hexColor","Hash","idSelector","declarationValue","level","scan","BadString","BadUrl","RightCurlyBracket","RightParenthesis","RightSquareBracket","Semicolon","Delim","LeftParenthesis","LeftSquareBracket","LeftCurlyBracket","anyValue","dimension","Dimension","numberEnd","reverseSolidusOffset","indexOf","unit","substring","hasOwnProperty","percentage","Percentage","zero","number","isNumber","integer","module","exports","AtKeyword","String","Url","WhiteSpace","CDO","CDC","Colon","Comma"],"mappings":"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","sourcesContent":["var tokenizer = require('../tokenizer');\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\nvar anPlusB = require('./generic-an-plus-b');\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\n\n// https://www.w3.org/TR/css-values-3/#lengths\nvar LENGTH = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n    'q': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nvar ANGLE = {\n    'deg': true,\n    'grad': true,\n    'rad': true,\n    'turn': true\n};\n\nvar TIME = {\n    's': true,\n    'ms': true\n};\n\nvar FREQUENCY = {\n    'hz': true,\n    'khz': true\n};\n\n// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\nvar RESOLUTION = {\n    'dpi': true,\n    'dpcm': true,\n    'dppx': true,\n    'x': true      // https://github.com/w3c/csswg-drafts/issues/461\n};\n\n// https://drafts.csswg.org/css-grid/#fr-unit\nvar FLEX = {\n    'fr': true\n};\n\n// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nvar DECIBEL = {\n    'db': true\n};\n\n// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\nvar SEMITONES = {\n    'st': true\n};\n\n// safe char code getter\nfunction charCode(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (var i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        str.charCodeAt(offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(str.charCodeAt(offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        var num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        if (opts.min !== null && num < opts.min) {\n            return true;\n        }\n\n        if (opts.max !== null && num > opts.max) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    var startIdx = token.index;\n    var length = 0;\n\n    // balanced token consuming\n    do {\n        length++;\n\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\nfunction func(name) {\n    name = name + '(';\n\n    return function(token, getNextToken) {\n        if (token !== null && eqStr(token.value, name)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return 0;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    var name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n    // in that property’s value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\nfunction customPropertyName(token) {\n    // ... defined as any valid identifier\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n    if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    var length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (var i = 1; i < length; i++) {\n        if (!isHexDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var length = 0;\n    var level = 0;\n    var startIdx = token.index;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                level--;\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case TYPE.Semicolon:\n                if (level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case TYPE.Delim:\n                if (token.value === '!' && level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            case TYPE.Function:\n            case TYPE.LeftParenthesis:\n            case TYPE.LeftSquareBracket:\n            case TYPE.LeftCurlyBracket:\n                level++;\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var startIdx = token.index;\n    var length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== TYPE.Dimension) {\n            return 0;\n        }\n\n        var numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== TYPE.Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === TYPE.Number) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n// § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0);\n    var isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== TYPE.Number) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n    var i = token.value.charCodeAt(0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\nmodule.exports = {\n    // token types\n    'ident-token': tokenType(TYPE.Ident),\n    'function-token': tokenType(TYPE.Function),\n    'at-keyword-token': tokenType(TYPE.AtKeyword),\n    'hash-token': tokenType(TYPE.Hash),\n    'string-token': tokenType(TYPE.String),\n    'bad-string-token': tokenType(TYPE.BadString),\n    'url-token': tokenType(TYPE.Url),\n    'bad-url-token': tokenType(TYPE.BadUrl),\n    'delim-token': tokenType(TYPE.Delim),\n    'number-token': tokenType(TYPE.Number),\n    'percentage-token': tokenType(TYPE.Percentage),\n    'dimension-token': tokenType(TYPE.Dimension),\n    'whitespace-token': tokenType(TYPE.WhiteSpace),\n    'CDO-token': tokenType(TYPE.CDO),\n    'CDC-token': tokenType(TYPE.CDC),\n    'colon-token': tokenType(TYPE.Colon),\n    'semicolon-token': tokenType(TYPE.Semicolon),\n    'comma-token': tokenType(TYPE.Comma),\n    '[-token': tokenType(TYPE.LeftSquareBracket),\n    ']-token': tokenType(TYPE.RightSquareBracket),\n    '(-token': tokenType(TYPE.LeftParenthesis),\n    ')-token': tokenType(TYPE.RightParenthesis),\n    '{-token': tokenType(TYPE.LeftCurlyBracket),\n    '}-token': tokenType(TYPE.RightCurlyBracket),\n\n    // token type aliases\n    'string': tokenType(TYPE.String),\n    'ident': tokenType(TYPE.Ident),\n\n    // complex types\n    'custom-ident': customIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue,\n\n    // dimensions\n    'dimension': calc(dimension(null)),\n    'angle': calc(dimension(ANGLE)),\n    'decibel': calc(dimension(DECIBEL)),\n    'frequency': calc(dimension(FREQUENCY)),\n    'flex': calc(dimension(FLEX)),\n    'length': calc(zero(dimension(LENGTH))),\n    'resolution': calc(dimension(RESOLUTION)),\n    'semitones': calc(dimension(SEMITONES)),\n    'time': calc(dimension(TIME)),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // old IE stuff\n    '-ms-legacy-expression': func('expression')\n};\n"]},"metadata":{},"sourceType":"script"}